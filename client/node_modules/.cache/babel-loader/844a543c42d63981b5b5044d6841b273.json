{"ast":null,"code":"import React,{useContext,useEffect}from'react';import{Col,Container,Row}from\"react-bootstrap\";import TypeBar from\"../components/TypeBar\";import DeveloperBar from\"../components/DeveloperBar\";import ApplicationList from\"../components/ApplicationList\";import{observer}from\"mobx-react-lite\";import{Context}from\"../index\";import{fetchApplications,fetchDevelopers,fetchTypes}from\"../http/deviceAPI\";import Pages from\"../components/Pages\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Shop=observer(function(){var _useContext=useContext(Context),application=_useContext.application;useEffect(function(){fetchTypes().then(function(data){return application.setTypes(data);});fetchDevelopers().then(function(data){return application.setDevelopers(data);});fetchApplications(null,null,1,3).then(function(data){application.setApplications(data.rows);application.setTotalCount(data.count);});},[]);useEffect(function(){fetchApplications(application.selectedType.id,application.selectedDeveloper.id,application.page,3).then(function(data){application.setApplications(data.rows);application.setTotalCount(data.count);});},[application.page],application.selectedType,application.selectedDeveloper);return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{className:\"mt-2\",children:[/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(TypeBar,{})}),/*#__PURE__*/_jsxs(Col,{md:9,children:[/*#__PURE__*/_jsx(DeveloperBar,{}),/*#__PURE__*/_jsx(ApplicationList,{}),/*#__PURE__*/_jsx(Pages,{})]})]})});});export default Shop;","map":{"version":3,"names":["React","useContext","useEffect","Col","Container","Row","TypeBar","DeveloperBar","ApplicationList","observer","Context","fetchApplications","fetchDevelopers","fetchTypes","Pages","Shop","application","then","data","setTypes","setDevelopers","setApplications","rows","setTotalCount","count","selectedType","id","selectedDeveloper","page"],"sources":["C:/Users/danak/WebstormProjects/untitled/client/src/pages/Shop.js"],"sourcesContent":["import React, {useContext, useEffect} from 'react';\r\nimport {Col, Container, Row} from \"react-bootstrap\";\r\nimport TypeBar from \"../components/TypeBar\";\r\nimport DeveloperBar from \"../components/DeveloperBar\";\r\nimport ApplicationList from \"../components/ApplicationList\";\r\nimport {observer} from \"mobx-react-lite\";\r\nimport {Context} from \"../index\";\r\nimport {fetchApplications, fetchDevelopers, fetchTypes} from \"../http/deviceAPI\";\r\nimport Pages from \"../components/Pages\";\r\n\r\nconst Shop = observer(() => {\r\n    const {application} = useContext(Context)\r\n\r\n    useEffect(() => {\r\n      fetchTypes().then(data=> application.setTypes(data))\r\n        fetchDevelopers().then(data=> application.setDevelopers(data))\r\n        fetchApplications(null, null, 1, 3).then(data=> {\r\n            application.setApplications(data.rows)\r\n            application.setTotalCount(data.count)\r\n    })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        fetchApplications(application.selectedType.id, application.selectedDeveloper.id, application.page, 3).then(data=> {\r\n            application.setApplications(data.rows)\r\n            application.setTotalCount(data.count)\r\n        })\r\n    }, [application.page], application.selectedType, application.selectedDeveloper)\r\n\r\n    return (\r\n        <Container>\r\n            <Row className=\"mt-2\">\r\n                <Col md={3}>\r\n                    <TypeBar></TypeBar>\r\n                </Col>\r\n                <Col md={9}>\r\n                   <DeveloperBar></DeveloperBar>\r\n                    <ApplicationList></ApplicationList>\r\n                    <Pages></Pages>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n});\r\n\r\nexport default Shop;"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,CAA2BC,SAA3B,KAA2C,OAA3C,CACA,OAAQC,GAAR,CAAaC,SAAb,CAAwBC,GAAxB,KAAkC,iBAAlC,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,MAAOC,CAAAA,eAAP,KAA4B,+BAA5B,CACA,OAAQC,QAAR,KAAuB,iBAAvB,CACA,OAAQC,OAAR,KAAsB,UAAtB,CACA,OAAQC,iBAAR,CAA2BC,eAA3B,CAA4CC,UAA5C,KAA6D,mBAA7D,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,C,wFAEA,GAAMC,CAAAA,IAAI,CAAGN,QAAQ,CAAC,UAAM,CACxB,gBAAsBR,UAAU,CAACS,OAAD,CAAhC,CAAOM,WAAP,aAAOA,WAAP,CAEAd,SAAS,CAAC,UAAM,CACdW,UAAU,GAAGI,IAAb,CAAkB,SAAAC,IAAI,QAAGF,CAAAA,WAAW,CAACG,QAAZ,CAAqBD,IAArB,CAAH,EAAtB,EACEN,eAAe,GAAGK,IAAlB,CAAuB,SAAAC,IAAI,QAAGF,CAAAA,WAAW,CAACI,aAAZ,CAA0BF,IAA1B,CAAH,EAA3B,EACAP,iBAAiB,CAAC,IAAD,CAAO,IAAP,CAAa,CAAb,CAAgB,CAAhB,CAAjB,CAAoCM,IAApC,CAAyC,SAAAC,IAAI,CAAG,CAC5CF,WAAW,CAACK,eAAZ,CAA4BH,IAAI,CAACI,IAAjC,EACAN,WAAW,CAACO,aAAZ,CAA0BL,IAAI,CAACM,KAA/B,EACP,CAHG,EAIH,CAPQ,CAON,EAPM,CAAT,CASAtB,SAAS,CAAC,UAAM,CACZS,iBAAiB,CAACK,WAAW,CAACS,YAAZ,CAAyBC,EAA1B,CAA8BV,WAAW,CAACW,iBAAZ,CAA8BD,EAA5D,CAAgEV,WAAW,CAACY,IAA5E,CAAkF,CAAlF,CAAjB,CAAsGX,IAAtG,CAA2G,SAAAC,IAAI,CAAG,CAC9GF,WAAW,CAACK,eAAZ,CAA4BH,IAAI,CAACI,IAAjC,EACAN,WAAW,CAACO,aAAZ,CAA0BL,IAAI,CAACM,KAA/B,EACH,CAHD,EAIH,CALQ,CAKN,CAACR,WAAW,CAACY,IAAb,CALM,CAKcZ,WAAW,CAACS,YAL1B,CAKwCT,WAAW,CAACW,iBALpD,CAAT,CAOA,mBACI,KAAC,SAAD,wBACI,MAAC,GAAD,EAAK,SAAS,CAAC,MAAf,wBACI,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,uBACI,KAAC,OAAD,IADJ,EADJ,cAII,MAAC,GAAD,EAAK,EAAE,CAAE,CAAT,wBACG,KAAC,YAAD,IADH,cAEI,KAAC,eAAD,IAFJ,cAGI,KAAC,KAAD,IAHJ,GAJJ,GADJ,EADJ,CAcH,CAjCoB,CAArB,CAmCA,cAAeZ,CAAAA,IAAf"},"metadata":{},"sourceType":"module"}