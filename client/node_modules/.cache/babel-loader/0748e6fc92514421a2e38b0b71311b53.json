{"ast":null,"code":"import React,{useContext,useEffect}from'react';import{Col,Container,Row}from\"react-bootstrap\";import TypeBar from\"../components/TypeBar\";import DeveloperBar from\"../components/DeveloperBar\";import ApplicationList from\"../components/ApplicationList\";import{observer}from\"mobx-react-lite\";import{Context}from\"../index\";import{fetchApplications,fetchDevelopers,fetchTypes}from\"../http/deviceAPI\";import Pages from\"../components/Pages\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Shop=observer(function(){var _useContext=useContext(Context),application=_useContext.application;useEffect(function(){fetchTypes().then(function(data){return application.setTypes(data);});fetchDevelopers().then(function(data){return application.setDevelopers(data);});fetchApplications(null,null,1,12).then(function(data){application.setApplications(data.rows);application.setTotalCount(data.count);});},[]);useEffect(function(){if(application.selectedType===\"all\"){fetchApplications(null,application.selectedDeveloper.id,application.page,12).then(function(data){application.setApplications(data.rows);application.setTotalCount(data.count);});}else{fetchApplications(application.selectedType.id,application.selectedDeveloper.id,application.page,12).then(function(data){application.setApplications(data.rows);application.setTotalCount(data.count);});}},[application.page,application.selectedType,application.selectedDeveloper]);return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{className:\"mt-2\",children:[/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(TypeBar,{})}),/*#__PURE__*/_jsxs(Col,{md:9,children:[/*#__PURE__*/_jsx(DeveloperBar,{}),/*#__PURE__*/_jsx(ApplicationList,{}),/*#__PURE__*/_jsx(Pages,{})]})]})});});export default Shop;","map":{"version":3,"names":["React","useContext","useEffect","Col","Container","Row","TypeBar","DeveloperBar","ApplicationList","observer","Context","fetchApplications","fetchDevelopers","fetchTypes","Pages","Shop","application","then","data","setTypes","setDevelopers","setApplications","rows","setTotalCount","count","selectedType","selectedDeveloper","id","page"],"sources":["C:/Users/danak/WebstormProjects/untitled/client/src/pages/Shop.js"],"sourcesContent":["import React, {useContext, useEffect} from 'react';\r\nimport {Col, Container, Row} from \"react-bootstrap\";\r\nimport TypeBar from \"../components/TypeBar\";\r\nimport DeveloperBar from \"../components/DeveloperBar\";\r\nimport ApplicationList from \"../components/ApplicationList\";\r\nimport {observer} from \"mobx-react-lite\";\r\nimport {Context} from \"../index\";\r\nimport {fetchApplications, fetchDevelopers, fetchTypes} from \"../http/deviceAPI\";\r\nimport Pages from \"../components/Pages\";\r\n\r\nconst Shop = observer(() => {\r\n    const {application} = useContext(Context)\r\n\r\n    useEffect(() => {\r\n      fetchTypes().then(data => application.setTypes(data));\r\n        fetchDevelopers().then(data=> application.setDevelopers(data));\r\n        fetchApplications(null, null, 1, 12).then(data=> {\r\n            application.setApplications(data.rows);\r\n            application.setTotalCount(data.count);\r\n    })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (application.selectedType === \"all\"){\r\n            fetchApplications(null, application.selectedDeveloper.id, application.page, 12). then (data => {\r\n                application.setApplications(data.rows);\r\n                application.setTotalCount(data.count)\r\n            });\r\n        }\r\n\r\n        else {\r\n            fetchApplications(application.selectedType.id, application.selectedDeveloper.id, application.page, 12).then(data=> {\r\n                application.setApplications(data.rows)\r\n                application.setTotalCount(data.count)\r\n            });\r\n        }\r\n\r\n    }, [application.page, application.selectedType, application.selectedDeveloper], );\r\n\r\n    return (\r\n        <Container>\r\n            <Row className=\"mt-2\">\r\n                <Col md={3}>\r\n                    <TypeBar></TypeBar>\r\n                </Col>\r\n                <Col md={9}>\r\n                   <DeveloperBar></DeveloperBar>\r\n                    <ApplicationList></ApplicationList>\r\n                    <Pages></Pages>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n});\r\n\r\nexport default Shop;"],"mappings":"AAAA,MAAOA,MAAP,EAAeC,UAAf,CAA2BC,SAA3B,KAA2C,OAA3C,CACA,OAAQC,GAAR,CAAaC,SAAb,CAAwBC,GAAxB,KAAkC,iBAAlC,CACA,MAAOC,QAAP,KAAoB,uBAApB,CACA,MAAOC,aAAP,KAAyB,4BAAzB,CACA,MAAOC,gBAAP,KAA4B,+BAA5B,CACA,OAAQC,QAAR,KAAuB,iBAAvB,CACA,OAAQC,OAAR,KAAsB,UAAtB,CACA,OAAQC,iBAAR,CAA2BC,eAA3B,CAA4CC,UAA5C,KAA6D,mBAA7D,CACA,MAAOC,MAAP,KAAkB,qBAAlB,C,wFAEA,GAAMC,KAAI,CAAGN,QAAQ,CAAC,UAAM,CACxB,gBAAsBR,UAAU,CAACS,OAAD,CAAhC,CAAOM,WAAP,aAAOA,WAAP,CAEAd,SAAS,CAAC,UAAM,CACdW,UAAU,GAAGI,IAAb,CAAkB,SAAAC,IAAI,QAAIF,YAAW,CAACG,QAAZ,CAAqBD,IAArB,CAAJ,EAAtB,EACEN,eAAe,GAAGK,IAAlB,CAAuB,SAAAC,IAAI,QAAGF,YAAW,CAACI,aAAZ,CAA0BF,IAA1B,CAAH,EAA3B,EACAP,iBAAiB,CAAC,IAAD,CAAO,IAAP,CAAa,CAAb,CAAgB,EAAhB,CAAjB,CAAqCM,IAArC,CAA0C,SAAAC,IAAI,CAAG,CAC7CF,WAAW,CAACK,eAAZ,CAA4BH,IAAI,CAACI,IAAjC,EACAN,WAAW,CAACO,aAAZ,CAA0BL,IAAI,CAACM,KAA/B,EACP,CAHG,EAIH,CAPQ,CAON,EAPM,CAAT,CASAtB,SAAS,CAAC,UAAM,CACZ,GAAIc,WAAW,CAACS,YAAZ,GAA6B,KAAjC,CAAuC,CACnCd,iBAAiB,CAAC,IAAD,CAAOK,WAAW,CAACU,iBAAZ,CAA8BC,EAArC,CAAyCX,WAAW,CAACY,IAArD,CAA2D,EAA3D,CAAjB,CAAiFX,IAAjF,CAAuF,SAAAC,IAAI,CAAI,CAC3FF,WAAW,CAACK,eAAZ,CAA4BH,IAAI,CAACI,IAAjC,EACAN,WAAW,CAACO,aAAZ,CAA0BL,IAAI,CAACM,KAA/B,EACH,CAHD,EAIH,CALD,IAOK,CACDb,iBAAiB,CAACK,WAAW,CAACS,YAAZ,CAAyBE,EAA1B,CAA8BX,WAAW,CAACU,iBAAZ,CAA8BC,EAA5D,CAAgEX,WAAW,CAACY,IAA5E,CAAkF,EAAlF,CAAjB,CAAuGX,IAAvG,CAA4G,SAAAC,IAAI,CAAG,CAC/GF,WAAW,CAACK,eAAZ,CAA4BH,IAAI,CAACI,IAAjC,EACAN,WAAW,CAACO,aAAZ,CAA0BL,IAAI,CAACM,KAA/B,EACH,CAHD,EAIH,CAEJ,CAfQ,CAeN,CAACR,WAAW,CAACY,IAAb,CAAmBZ,WAAW,CAACS,YAA/B,CAA6CT,WAAW,CAACU,iBAAzD,CAfM,CAAT,CAiBA,mBACI,KAAC,SAAD,wBACI,MAAC,GAAD,EAAK,SAAS,CAAC,MAAf,wBACI,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,uBACI,KAAC,OAAD,IADJ,EADJ,cAII,MAAC,GAAD,EAAK,EAAE,CAAE,CAAT,wBACG,KAAC,YAAD,IADH,cAEI,KAAC,eAAD,IAFJ,cAGI,KAAC,KAAD,IAHJ,GAJJ,GADJ,EADJ,CAcH,CA3CoB,CAArB,CA6CA,cAAeX,KAAf"},"metadata":{},"sourceType":"module"}