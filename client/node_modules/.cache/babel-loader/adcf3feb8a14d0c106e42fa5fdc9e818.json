{"ast":null,"code":"import React,{useContext,useState}from'react';import{Button,Col,Form,Image,Row}from\"react-bootstrap\";import{Context}from\"../index\";import{sendOrder}from\"../http/ordersAPI\";import{useNavigate}from\"react-router-dom\";import{SHOP_ROUTE}from\"../utils/consts\";import emptyBasket from\"../assets/emptyBasket.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Ordering=function Ordering(){var _useContext=useContext(Context),basket=_useContext.basket,user=_useContext.user;var history=useNavigate();var buy=function buy(){var order={basket:basket.Basket};if(user.isAuth){order.auth=true;}sendOrder(order).then(function(data){console.log(data);basket.setDeleteAllDeviceFromBasket();history(SHOP_ROUTE);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-column align-items-center mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-5\",style:{fontSize:18},children:/*#__PURE__*/_jsx(\"b\",{children:\"\\u0417\\u0430\\u043A\\u0430\\u0437 \\u0441\\u0444\\u043E\\u0440\\u043C\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D. \\u041E\\u0436\\u0438\\u0434\\u0430\\u0435\\u0442\\u0441\\u044F \\u043E\\u043F\\u043B\\u0430\\u0442\\u0430.\"})})}),/*#__PURE__*/_jsx(Row,{className:\"text-center mt-5\",children:/*#__PURE__*/_jsx(Col,{xs:12,children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:buy,children:\"\\u041E\\u043F\\u043B\\u0430\\u0442\\u0438\\u0442\\u044C\"})})})]});};export default Ordering;","map":{"version":3,"names":["React","useContext","useState","Button","Col","Form","Image","Row","Context","sendOrder","useNavigate","SHOP_ROUTE","emptyBasket","Ordering","basket","user","history","buy","order","Basket","isAuth","auth","then","data","console","log","setDeleteAllDeviceFromBasket","fontSize"],"sources":["C:/Users/danak/WebstormProjects/untitled/client/src/pages/Ordering.js"],"sourcesContent":["import React, {useContext, useState} from 'react';\r\nimport {Button, Col, Form, Image, Row} from \"react-bootstrap\";\r\nimport {Context} from \"../index\";\r\nimport {sendOrder} from \"../http/ordersAPI\";\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport {SHOP_ROUTE} from \"../utils/consts\";\r\nimport emptyBasket from \"../assets/emptyBasket.jpg\";\r\n\r\nconst Ordering = () => {\r\n    const {basket, user} = useContext(Context);\r\n    const history = useNavigate();\r\n\r\n    const buy = () => {\r\n        let order = {\r\n            basket: basket.Basket\r\n        }\r\n\r\n        if(user.isAuth) {\r\n            order.auth = true;\r\n        }\r\n\r\n        sendOrder(order).then(data => {\r\n            console.log(data);\r\n            basket.setDeleteAllDeviceFromBasket();\r\n            history(SHOP_ROUTE);\r\n        });\r\n    }\r\n    return (\r\n        <>\r\n            <div className=\"d-flex flex-column align-items-center mt-5\">\r\n\r\n                <div className=\"text-center mt-5\" style={{fontSize: 18}}><b>Заказ сформирован. Ожидается оплата.</b></div>\r\n            </div>\r\n            <Row className=\"text-center mt-5\">\r\n                <Col    xs={12}>\r\n                    <Button variant=\"secondary\" onClick={buy}>Оплатить</Button>\r\n                </Col>\r\n            </Row>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Ordering;"],"mappings":"AAAA,MAAOA,MAAP,EAAeC,UAAf,CAA2BC,QAA3B,KAA0C,OAA1C,CACA,OAAQC,MAAR,CAAgBC,GAAhB,CAAqBC,IAArB,CAA2BC,KAA3B,CAAkCC,GAAlC,KAA4C,iBAA5C,CACA,OAAQC,OAAR,KAAsB,UAAtB,CACA,OAAQC,SAAR,KAAwB,mBAAxB,CACA,OAAQC,WAAR,KAA0B,kBAA1B,CACA,OAAQC,UAAR,KAAyB,iBAAzB,CACA,MAAOC,YAAP,KAAwB,2BAAxB,C,6IAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACnB,gBAAuBZ,UAAU,CAACO,OAAD,CAAjC,CAAOM,MAAP,aAAOA,MAAP,CAAeC,IAAf,aAAeA,IAAf,CACA,GAAMC,QAAO,CAAGN,WAAW,EAA3B,CAEA,GAAMO,IAAG,CAAG,QAANA,IAAM,EAAM,CACd,GAAIC,MAAK,CAAG,CACRJ,MAAM,CAAEA,MAAM,CAACK,MADP,CAAZ,CAIA,GAAGJ,IAAI,CAACK,MAAR,CAAgB,CACZF,KAAK,CAACG,IAAN,CAAa,IAAb,CACH,CAEDZ,SAAS,CAACS,KAAD,CAAT,CAAiBI,IAAjB,CAAsB,SAAAC,IAAI,CAAI,CAC1BC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAT,MAAM,CAACY,4BAAP,GACAV,OAAO,CAACL,UAAD,CAAP,CACH,CAJD,EAKH,CAdD,CAeA,mBACI,wCACI,YAAK,SAAS,CAAC,4CAAf,uBAEI,YAAK,SAAS,CAAC,kBAAf,CAAkC,KAAK,CAAE,CAACgB,QAAQ,CAAE,EAAX,CAAzC,uBAAyD,sNAAzD,EAFJ,EADJ,cAKI,KAAC,GAAD,EAAK,SAAS,CAAC,kBAAf,uBACI,KAAC,GAAD,EAAQ,EAAE,CAAE,EAAZ,uBACI,KAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,OAAO,CAAEV,GAArC,8DADJ,EADJ,EALJ,GADJ,CAaH,CAhCD,CAkCA,cAAeJ,SAAf"},"metadata":{},"sourceType":"module"}